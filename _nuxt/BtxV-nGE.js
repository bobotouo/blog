import{_ as D}from"./Cbeljy2p.js";import N from"./BDzPK9bJ.js";import{u as B,a as L,_ as M}from"./CTZmt7mJ.js";import{j as P,I as F,J as V,K as Y,c as r,b as w,w as H,a as s,t as c,u as t,H as i,F as R,G as T,k as j,L as q,o,d as A,f as E,_ as I}from"./BUJ_eH2L.js";import{u as S,a as G}from"./Cwp8yiYm.js";import{q as J}from"./Drn4I1Qw.js";import{u as K}from"./BPhAquK_.js";import"./CwePXqqs.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./CljdUlt7.js";import"./g258cTlx.js";const O={class:"max-w-4xl mx-auto py-10 px-6"},U={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},z={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},Q={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},W={key:0,class:"text-white/40"},X={key:1,class:"text-white/40"},Z={key:0,class:"flex flex-wrap gap-2 mb-8"},tt={class:"prose prose-invert max-w-none"},et=["innerHTML"],st={class:"mt-10"},ot=P({__name:"[slug]",async setup(at){let l,m;const p=F(),_=p.params.slug,d=q().public.baseUrl||"/",x=d.replace(/\/$/,"")+p.path,{views:f}=B(x),{count:h}=L(x),u=`/blog/${_}`,y=d.replace(/\/$/,""),{data:e}=([l,m]=V(async()=>S(`blog-post-${u}`,async()=>{const a=G(`blog-post-${u}`).data.value;if(a)return a;try{return await J(u).findOne()}catch{return await $fetch(`${y}/blog/${_}.json`).catch(()=>null)??null}})),l=await l,m(),l),b=E(()=>e.value?.body??null);if(!e.value)throw Y({statusCode:404,statusMessage:"Page not found"});function k(a){return a?K(a,"YYYY-MM-DD").value:""}return(a,n)=>{const v=D,C=N,$=M;return o(),r("article",O,[w(v,{to:"/blog",class:"text-xs uppercase tracking-[0.35em] text-white/50"},{default:H(()=>[...n[0]||(n[0]=[A(" ← 返回列表 ",-1)])]),_:1}),s("div",U,[n[1]||(n[1]=s("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Feature",-1)),s("h1",z,c(t(e)?.title),1),s("div",Q,[s("span",null,c(k(t(e)?.date)),1),t(f)!==null?(o(),r("span",W,"· "+c(t(f))+" 次阅读",1)):i("",!0),t(h)!==null?(o(),r("span",X," · "+c(t(h))+" 条评论 ",1)):i("",!0)]),t(e)?.tags?(o(),r("div",Z,[(o(!0),r(R,null,T(t(e)?.tags,g=>(o(),r("span",{key:g,class:"px-4 py-1.5 bg-white/10 text-white/80 rounded-full text-xs border border-white/15"},c(g),1))),128))])):i("",!0),s("div",tt,[t(b)?(o(),r("div",{key:0,innerHTML:t(b)},null,8,et)):t(e)?(o(),j(C,{key:1,value:t(e)},null,8,["value"])):i("",!0)])]),s("div",st,[n[2]||(n[2]=s("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),w($)])])}}}),bt=I(ot,[["__scopeId","data-v-46264aa3"]]);export{bt as default};
