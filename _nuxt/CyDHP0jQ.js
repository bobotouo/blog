import y from"./CZAyMvhA.js";import{u as k,_ as C}from"./5iZSLYQR.js";import{j as D,M as A,N as B,K as F,O as M,c as o,a as t,t as n,u as e,H as u,F as N,G as P,b as h,o as a,P as Y,_ as R}from"./Og3GdUtk.js";import{u as V}from"./DSxBcGl3.js";import{u as $}from"./Bt2jnTCr.js";import{q as j}from"./CqTP0jWH.js";import{u as q}from"./Dx39jrq7.js";import"./BkPylkhG.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./nfukM5za.js";import"./BlgqvkKC.js";import"./CURaniLi.js";const E={class:"max-w-4xl mx-auto py-10 px-6"},O={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},S={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},G={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},H={key:0,class:"text-white/40"},I={key:1,class:"text-white/40"},K={key:0,class:"flex flex-wrap gap-2 mb-8"},L={class:"prose prose-invert max-w-none"},T={class:"mt-10"},z=D({__name:"[...slug]",async setup(J){let i,m;const r=A(),g=B(),f=()=>{window.history.length>1?g.back():Y("/blog")},{views:p}=V(r.path),{count:_}=k(r.path),d=`/blog/${Array.isArray(r.params.slug)?r.params.slug.join("/"):r.params.slug}`,{data:s}=([i,m]=F(()=>$(`blog-post-${d}`,()=>j(d).findOne(),{getCachedData:()=>{}})),i=await i,m(),i);if(!s.value)throw M({statusCode:404,statusMessage:"Page not found"});function b(l){return l?q(l,"YYYY-MM-DD").value:""}return(l,c)=>{const w=y,v=C;return a(),o("article",E,[t("button",{type:"button",class:"inline-block bg-transparent border-0 p-0 text-left text-xs uppercase tracking-[0.35em] text-white/50 hover:text-white/70 transition cursor-pointer font-inherit",onClick:f}," ← 返回列表 "),t("div",O,[c[0]||(c[0]=t("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Feature",-1)),t("h1",S,n(e(s)?.title),1),t("div",G,[t("span",null,n(b(e(s)?.date)),1),e(p)!==null?(a(),o("span",H,"· "+n(e(p))+" 次阅读",1)):u("",!0),e(_)!==null?(a(),o("span",I," · "+n(e(_))+" 条评论 ",1)):u("",!0)]),e(s)?.tags?(a(),o("div",K,[(a(!0),o(N,null,P(e(s)?.tags,x=>(a(),o("span",{key:x,class:"px-4 py-1.5 bg-white/10 text-white/80 rounded-full text-xs border border-white/15"},n(x),1))),128))])):u("",!0),t("div",L,[h(w,{value:e(s)},null,8,["value"])])]),t("div",T,[c[1]||(c[1]=t("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),h(v)])])}}}),lt=R(z,[["__scopeId","data-v-c24e33ba"]]);export{lt as default};
