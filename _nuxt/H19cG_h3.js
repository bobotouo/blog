import C from"./BRo6LRps.js";import{u as D,_ as A}from"./CqJR-WUR.js";import{j as B,O as F,P as M,M as N,e as P,c as e,a as n,u as t,S as R,F as v,t as l,H as c,G as S,b as f,o as s,R as V,Q as Y,_ as $}from"./DDrHXbq5.js";import{u as j}from"./CarVn0lX.js";import{u as q}from"./BudKRpDI.js";import{q as E}from"./DqxNAEaZ.js";import{u as O}from"./CR0sX7H7.js";import"./B2XXmpwf.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./BPfBr0MZ.js";import"./DaWJ0p5q.js";import"./Cgq_G8Uh.js";const z={class:"max-w-4xl mx-auto py-10 px-6"},G={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},H={key:0,class:"article-skeleton space-y-6"},I={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},L={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},Q={key:0,class:"text-white/40"},T={key:1,class:"text-white/40"},J={key:0,class:"flex flex-wrap gap-2 mb-8"},K={class:"prose prose-invert max-w-none"},U={key:0,class:"mt-10"},W=B({__name:"[...slug]",async setup(X){let d,m;const r=F(),g=M(),w=()=>{window.history.length>1?g.back():V("/blog")},{views:p}=j(r.path),{count:_}=D(r.path),x=`/blog/${Array.isArray(r.params.slug)?r.params.slug.join("/"):r.params.slug}`,{data:a,pending:u}=([d,m]=N(()=>q(`blog-post-${x}`,()=>E(x).findOne(),{getCachedData:void 0,lazy:!0})),d=await d,m(),d);P([u,a],([i,o])=>{if(!i&&!o)throw Y({statusCode:404,statusMessage:"Page not found"})},{immediate:!0});function b(i){return i?O(i,"YYYY-MM-DD").value:""}return(i,o)=>{const k=C,y=A;return s(),e("article",z,[n("button",{type:"button",class:"inline-block bg-transparent border-0 p-0 text-left text-xs uppercase tracking-[0.35em] text-white/50 hover:text-white/70 transition cursor-pointer font-inherit",onClick:w}," ← 返回列表 "),n("div",G,[t(u)?(s(),e("div",H,[...o[0]||(o[0]=[R('<div class="article-skeleton-line h-3 w-20 rounded-full" data-v-2101a226></div><div class="article-skeleton-line h-10 max-w-xl rounded-lg" data-v-2101a226></div><div class="article-skeleton-line h-4 w-48 rounded-full" data-v-2101a226></div><div class="space-y-2 pt-4" data-v-2101a226><div class="article-skeleton-line h-4 w-full rounded" data-v-2101a226></div><div class="article-skeleton-line h-4 w-full rounded" data-v-2101a226></div><div class="article-skeleton-line h-4 max-w-[66%] rounded" data-v-2101a226></div></div>',4)])])):t(a)?(s(),e(v,{key:1},[o[1]||(o[1]=n("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Feature",-1)),n("h1",I,l(t(a).title),1),n("div",L,[n("span",null,l(b(t(a).date)),1),t(p)!==null?(s(),e("span",Q,"· "+l(t(p))+" 次阅读",1)):c("",!0),t(_)!==null?(s(),e("span",T," · "+l(t(_))+" 条评论 ",1)):c("",!0)]),t(a).tags?(s(),e("div",J,[(s(!0),e(v,null,S(t(a).tags,h=>(s(),e("span",{key:h,class:"px-4 py-1.5 bg-white/10 text-white/80 rounded-full text-xs border border-white/15"},l(h),1))),128))])):c("",!0),n("div",K,[f(k,{value:t(a)},null,8,["value"])])],64)):c("",!0)]),!t(u)&&t(a)?(s(),e("div",U,[o[2]||(o[2]=n("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),f(y)])):c("",!0)])}}}),pt=$(W,[["__scopeId","data-v-2101a226"]]);export{pt as default};
