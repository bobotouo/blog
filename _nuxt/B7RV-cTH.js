import{_ as D}from"./CLCxZ2ev.js";import M from"./BLOre_WG.js";import{u as N,_ as B}from"./BFCZAkAj.js";import{j as L,K as P,L as F,M as V,c as r,b as w,w as Y,a as o,t as c,u as t,H as l,F as H,G as R,k as T,J as j,o as a,d as q,f as A,_ as E}from"./eq9DR6Uc.js";import{u as S}from"./C6nPLwhg.js";import{u as G,a as I}from"./DOrz2VTN.js";import{q as J}from"./sXHiHD12.js";import{u as K}from"./bvysujno.js";import"./By7BLXPM.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./bzsQ2t0K.js";import"./BJ2ClxiI.js";import"./D_3a4Hwi.js";const O={class:"max-w-4xl mx-auto py-10 px-6"},U={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},z={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},Q={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},W={key:0,class:"text-white/40"},X={key:1,class:"text-white/40"},Z={key:0,class:"flex flex-wrap gap-2 mb-8"},tt={class:"prose prose-invert max-w-none"},et=["innerHTML"],st={class:"mt-10"},ot=L({__name:"[slug]",async setup(at){let i,m;const p=P(),_=p.params.slug,d=j().public.baseUrl||"/",x=d.replace(/\/$/,"")+p.path,{views:f}=S(x),{count:h}=N(x),u=`/blog/${_}`,y=d.replace(/\/$/,""),{data:s}=([i,m]=F(async()=>G(`blog-post-${u}`,async()=>{const n=I(`blog-post-${u}`).data.value;if(n)return n;try{return await J(u).findOne()}catch{return await $fetch(`${y}/blog/${_}.json`).catch(()=>null)??null}})),i=await i,m(),i),b=A(()=>{const e=s.value?.body;return typeof e=="string"?e:null});if(!s.value)throw V({statusCode:404,statusMessage:"Page not found"});function k(n){return n?K(n,"YYYY-MM-DD").value:""}return(n,e)=>{const v=D,C=M,$=B;return a(),r("article",O,[w(v,{to:"/blog",class:"text-xs uppercase tracking-[0.35em] text-white/50"},{default:Y(()=>[...e[0]||(e[0]=[q(" ← 返回列表 ",-1)])]),_:1}),o("div",U,[e[1]||(e[1]=o("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Feature",-1)),o("h1",z,c(t(s)?.title),1),o("div",Q,[o("span",null,c(k(t(s)?.date)),1),t(f)!==null?(a(),r("span",W,"· "+c(t(f))+" 次阅读",1)):l("",!0),t(h)!==null?(a(),r("span",X," · "+c(t(h))+" 条评论 ",1)):l("",!0)]),t(s)?.tags?(a(),r("div",Z,[(a(!0),r(H,null,R(t(s)?.tags,g=>(a(),r("span",{key:g,class:"px-4 py-1.5 bg-white/10 text-white/80 rounded-full text-xs border border-white/15"},c(g),1))),128))])):l("",!0),o("div",tt,[t(b)?(a(),r("div",{key:0,innerHTML:t(b)},null,8,et)):t(s)?(a(),T(C,{key:1,value:t(s)},null,8,["value"])):l("",!0)])]),o("div",st,[e[2]||(e[2]=o("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),w($)])])}}}),wt=E(ot,[["__scopeId","data-v-2965648e"]]);export{wt as default};
