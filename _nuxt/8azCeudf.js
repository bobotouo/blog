import D from"./BRo6LRps.js";import{u as B,_ as M}from"./CqJR-WUR.js";import{j as P,O as N,P as R,M as F,Q as Y,c as r,a as e,t as c,u as t,H as l,F as H,G as L,k as T,b as V,N as j,o as a,R as q,f as A,_ as E}from"./DDrHXbq5.js";import{u as O}from"./CarVn0lX.js";import{u as S,a as G}from"./BudKRpDI.js";import{q as I}from"./DqxNAEaZ.js";import{u as Q}from"./CR0sX7H7.js";import"./B2XXmpwf.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./BPfBr0MZ.js";import"./DaWJ0p5q.js";import"./Cgq_G8Uh.js";const U={class:"max-w-4xl mx-auto py-10 px-6"},z={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},J={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},K={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},W={key:0,class:"text-white/40"},X={key:1,class:"text-white/40"},Z={key:0,class:"flex flex-wrap gap-2 mb-8"},tt={class:"prose prose-invert max-w-none"},et=["innerHTML"],st={class:"mt-10"},ot=P({__name:"[slug]",async setup(at){let i,p;const m=N(),w=R(),y=()=>{window.history.length>1?w.back():q("/blog")},d=m.params.slug,_=j().public.baseUrl||"/",x=_.replace(/\/$/,"")+m.path,{views:f}=O(x),{count:h}=B(x),u=`/blog/${d}`,k=_.replace(/\/$/,""),{data:s}=([i,p]=F(async()=>S(`blog-post-${u}`,async()=>{const n=G(`blog-post-${u}`).data.value;if(n)return n;try{return await I(u).findOne()}catch{return await $fetch(`${k}/blog/${d}.json`).catch(()=>null)??null}},{getCachedData:()=>{}})),i=await i,p(),i),b=A(()=>{const o=s.value?.body;return typeof o=="string"?o:null});if(!s.value)throw Y({statusCode:404,statusMessage:"Page not found"});function v(n){return n?Q(n,"YYYY-MM-DD").value:""}return(n,o)=>{const C=D,$=M;return a(),r("article",U,[e("button",{type:"button",class:"inline-block bg-transparent border-0 p-0 text-left text-xs uppercase tracking-[0.35em] text-white/50 hover:text-white/70 transition cursor-pointer font-inherit",onClick:y}," ← 返回列表 "),e("div",z,[o[0]||(o[0]=e("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Feature",-1)),e("h1",J,c(t(s)?.title),1),e("div",K,[e("span",null,c(v(t(s)?.date)),1),t(f)!==null?(a(),r("span",W,"· "+c(t(f))+" 次阅读",1)):l("",!0),t(h)!==null?(a(),r("span",X," · "+c(t(h))+" 条评论 ",1)):l("",!0)]),t(s)?.tags?(a(),r("div",Z,[(a(!0),r(H,null,L(t(s)?.tags,g=>(a(),r("span",{key:g,class:"px-4 py-1.5 bg-white/10 text-white/80 rounded-full text-xs border border-white/15"},c(g),1))),128))])):l("",!0),e("div",tt,[t(b)?(a(),r("div",{key:0,innerHTML:t(b)},null,8,et)):t(s)?(a(),T(C,{key:1,value:t(s)},null,8,["value"])):l("",!0)])]),e("div",st,[o[1]||(o[1]=e("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),V($)])])}}}),gt=E(ot,[["__scopeId","data-v-06f77b78"]]);export{gt as default};
