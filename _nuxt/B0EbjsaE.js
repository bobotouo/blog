import{_ as C}from"./DxxJw-Tk.js";import D from"./C6V74VZx.js";import{u as $,a as N,_ as A}from"./B0mAcLv4.js";import{j as V,J as Y,I as j,K as B,c as s,b as p,w as F,a,t as n,u as t,H as i,F as g,G as f,o,d as M,_ as P}from"./CoObrs8n.js";import{u as S,q}from"./DZTYfMrM.js";import{u as E}from"./DqYVWeKI.js";import"./Pl8iWYQc.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";import"./BbqGOV_C.js";import"./BSIyikG0.js";const I={class:"max-w-4xl mx-auto py-10 px-6"},L={class:"mt-6 rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 md:p-10 shadow-[0_30px_80px_rgba(0,0,0,0.45)]"},R={class:"text-4xl md:text-5xl font-semibold text-white mb-4"},G={class:"text-sm text-white/60 mb-6 flex flex-wrap items-center gap-4"},H={key:0,class:"text-white/40"},J={key:1,class:"text-white/40"},K={key:2,class:"text-white/40"},O={key:0,class:"text-white/70 mb-6"},T={key:1,class:"grid gap-3 sm:grid-cols-2 mb-8"},z=["src"],Q={key:2,class:"flex flex-wrap gap-2 mb-8"},U={class:"prose prose-invert max-w-none"},W={class:"mt-10"},X=V({__name:"[...slug]",async setup(Z){let l,_;const c=Y(),{views:d}=$(c.path),{count:x}=N(c.path),h=`/snapshots/${Array.isArray(c.params.slug)?c.params.slug.join("/"):c.params.slug}`,{data:e}=([l,_]=j(()=>S(`snapshot-${h}`,()=>q(h).findOne())),l=await l,_(),l);if(!e.value)throw B({statusCode:404,statusMessage:"Page not found"});function w(u){return u?E(u,"YYYY-MM-DD").value:""}return(u,r)=>{const b=C,y=D,v=A;return o(),s("article",I,[p(b,{to:"/snapshots",class:"text-xs uppercase tracking-[0.35em] text-white/50"},{default:F(()=>[...r[0]||(r[0]=[M(" ← 返回快照 ",-1)])]),_:1}),a("div",L,[r[1]||(r[1]=a("p",{class:"text-xs uppercase tracking-[0.4em] text-white/40 mb-4"},"Snapshot",-1)),a("h1",R,n(t(e)?.title),1),a("div",G,[a("span",null,n(w(t(e)?.date)),1),t(e)?.location?(o(),s("span",H,"· "+n(t(e)?.location),1)):i("",!0),t(d)!==null?(o(),s("span",J,"· "+n(t(d))+" 次浏览",1)):i("",!0),t(x)!==null?(o(),s("span",K," · "+n(t(x))+" 条评论 ",1)):i("",!0)]),t(e)?.summary?(o(),s("p",O,n(t(e)?.summary),1)):i("",!0),t(e)?.images&&t(e)?.images.length?(o(),s("div",T,[(o(!0),s(g,null,f(t(e).images,(m,k)=>(o(),s("div",{key:`${t(e)?._path}-img-${k}`,class:"h-56 overflow-hidden rounded-2xl border border-white/10"},[a("img",{src:m,alt:"snapshot",class:"h-full w-full object-cover"},null,8,z)]))),128))])):i("",!0),t(e)?.tags?(o(),s("div",Q,[(o(!0),s(g,null,f(t(e).tags,m=>(o(),s("span",{key:m,class:"px-3 py-1 text-xs uppercase tracking-[0.2em] text-white/60 border border-white/10 rounded-full"},n(m),1))),128))])):i("",!0),a("div",U,[p(y,{value:t(e)},null,8,["value"])])]),a("div",W,[r[2]||(r[2]=a("div",{class:"text-xs uppercase tracking-[0.35em] text-white/50 mb-4"}," Comments ",-1)),p(v)])])}}}),pt=P(X,[["__scopeId","data-v-172a7dd9"]]);export{pt as default};
