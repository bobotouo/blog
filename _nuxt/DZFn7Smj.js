import v from"./1QDvBNKn.js";import w from"./BG1-Xfl4.js";import{u as f,e as D,I as h,R as q,L as y,j as H,S,U as _,B as a}from"./BeJOpBgh.js";import{u as b}from"./-af6GgIz.js";import"./BHSydmCf.js";import"./BkYEBLzR.js";import"./BJ2ClxiI.js";import"./DhPTLZob.js";import"./XJelUWBv.js";import"./BcoLF6T6.js";import"./BSZFgSs5.js";import"./B8IaAclc.js";const d=(u,p=h())=>{const n=f(u),c=y();D(()=>f(u),(o=n)=>{if(!p.path||!o)return;const t=Object.assign({},o?.head||{});t.meta=[...t.meta||[]],t.link=[...t.link||[]];const i=t.title||o?.title;i&&(t.title=i),c.public.content.host;const s=t?.description||o?.description;s&&t.meta.filter(m=>m.name==="description").length===0&&t.meta.push({name:"description",content:s}),t?.image||o?.image,q(()=>b(t))},{immediate:!0})},j=H({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:void 0}},render(u){const{contentHead:p}=y().public.content,n=S(),{tag:c,excerpt:l,path:o,query:t,head:i}=u,s=i===void 0?p:i,m={...t||{},path:o||t?.path||_(h().path),find:"one"},g=(e,r)=>a("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:e,data:r},null,2));return a(v,m,{default:n?.default?({data:e,refresh:r,isPartial:C})=>(s&&d(e),n.default?.({doc:e,refresh:r,isPartial:C,excerpt:l,...this.$attrs})):({data:e})=>(s&&d(e),a(w,{value:e,excerpt:l,tag:c,...this.$attrs},{empty:r=>n?.empty?n.empty(r):g("default",e)})),empty:e=>n?.empty?.(e)||a("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>."),"not-found":e=>n?.["not-found"]?.(e)||a("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")})}}),Q=j;export{Q as default};
